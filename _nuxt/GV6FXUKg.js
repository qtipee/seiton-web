import{_ as w,o as p,c as m,a as e,m as g,G as A,r as c,H as D,g as I,d as V,q as s,t as h,x as q,B as r,C as d,z as k,I as B,b as C,F as P,J as U,K as y,E as M}from"./B9Jdsbtr.js";const N={},j={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"size-6"};function E(_,o){return p(),m("svg",j,o[0]||(o[0]=[e("path",{"fill-rule":"evenodd",d:"M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z","clip-rule":"evenodd"},null,-1)]))}const K=w(N,[["render",E]]),R={class:"bg-gray-600 text-white"},S={class:"flex justify-between items-center mx-auto max-w-7xl px-4 py-2 sm:px-6 lg:px-8"},T={class:"flex-1 text-2xl font-bold"},z={key:0,class:"text-xl font-semibold"},F={class:"mx-auto"},G={class:"flex flex-col space-y-4 px-4 py-2 sm:px-6 lg:px-8"},Z={class:"flex flex-col space-y-2"},$={class:"flex justify-between items-center space-x-4"},H={class:"flex flex-col space-y-2"},J=["disabled"],Q={class:"flex flex-col space-y-2"},L=["disabled"],O={class:"flex flex-col space-y-2"},W=["disabled"],X={class:"flex flex-col space-y-2"},Y=["disabled"],ee=["disabled"],se=g({__name:"[id]",setup(_){const o=A(),f=Array.isArray(o.params.id)?o.params.id[0]:o.params.id,l=c({articleID:"",discount:0,name:"",quantity:0,unitPrice:0}),a=c(f==="new"?"":f),n=c(!0),u=async()=>{if(!a.value)return;const x=await U().getArticleByArticleID(a.value);l.value=x??{articleID:"",discount:0,name:"",quantity:0,unitPrice:0},a.value&&(n.value=!1)},b=async()=>{a.value&&l.value&&(l.value.id?await y().updateArticle(l.value.id,l.value):(l.value.articleID=a.value,await y().addArticle(l.value)),M("/app/stock"))};return D(()=>{u()}),I(()=>a.value,()=>{n.value=!0}),(x,t)=>{const v=K;return p(),m(P,null,[e("header",R,[e("div",S,[e("h1",T,[t[5]||(t[5]=V(" Article ")),s(a)?(p(),m("span",z,"#"+h(s(a)),1)):q("",!0)])])]),e("main",null,[e("div",F,[e("div",G,[e("div",Z,[t[6]||(t[6]=e("label",{for:"article-id"}," ID de l'article : ",-1)),e("div",$,[r(e("input",{"onUpdate:modelValue":t[0]||(t[0]=i=>k(a)?a.value=i:null),name:"article-id",class:"flex-1 p-2 border rounded",onKeyup:B(u,["enter"])},null,544),[[d,s(a)]]),C(v,{class:"w-6 h-6 text-primary-500",onClick:u})])]),e("div",H,[t[7]||(t[7]=e("label",{for:"article-name"}," Nom de l'article : ",-1)),r(e("input",{"onUpdate:modelValue":t[1]||(t[1]=i=>s(l).name=i),name:"article-name",disabled:s(n),class:"p-2 border rounded"},null,8,J),[[d,s(l).name]])]),e("div",Q,[t[8]||(t[8]=e("label",{for:"article-quantity"}," Quantity : ",-1)),r(e("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=i=>s(l).quantity=i),name:"article-quantity",disabled:s(n),class:"p-2 border rounded"},null,8,L),[[d,s(l).quantity]])]),e("div",O,[t[9]||(t[9]=e("label",{for:"article-unit-price"}," Prix unitaire : ",-1)),r(e("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=i=>s(l).unitPrice=i),name:"article-unit-price",disabled:s(n),class:"p-2 border rounded"},null,8,W),[[d,s(l).unitPrice]])]),e("div",X,[t[10]||(t[10]=e("label",{for:"article-discount"}," Rabais : ",-1)),r(e("input",{type:"number","onUpdate:modelValue":t[4]||(t[4]=i=>s(l).discount=i),name:"article-discount",disabled:s(n),class:"p-2 border rounded"},null,8,Y),[[d,s(l).discount]])]),e("button",{class:"inline-flex items-center justify-center py-3 px-4 font-semibold rounded text-white bg-primary-500 hover:bg-primary-700 duration-200",onClick:b,disabled:s(n)}," Enregistrer ",8,ee)])])])],64)}}});export{se as default};
